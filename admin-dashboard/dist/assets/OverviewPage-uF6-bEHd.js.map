{"version":3,"file":"OverviewPage-uF6-bEHd.js","sources":["../../src/components/Card.tsx","../../src/components/Button.tsx","../../src/services/api.service.ts","../../src/pages/OverviewPage.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\r\nimport clsx from 'clsx';\r\n\r\ninterface StatCardProps {\r\n  title: string;\r\n  value: string | number;\r\n  icon: string;\r\n  change?: string;\r\n  changeType?: 'positive' | 'negative' | 'neutral';\r\n  color?: 'blue' | 'green' | 'orange' | 'purple';\r\n}\r\n\r\nexport const StatCard: React.FC<StatCardProps> = ({\r\n  title,\r\n  value,\r\n  icon,\r\n  change,\r\n  changeType = 'neutral',\r\n  color = 'blue',\r\n}) => {\r\n  const colorClasses = {\r\n    blue: 'bg-blue-50 border-blue-200',\r\n    green: 'bg-green-50 border-green-200',\r\n    orange: 'bg-orange-50 border-orange-200',\r\n    purple: 'bg-purple-50 border-purple-200',\r\n  };\r\n\r\n  const changeClasses = {\r\n    positive: 'text-green-600',\r\n    negative: 'text-red-600',\r\n    neutral: 'text-gray-600',\r\n  };\r\n\r\n  return (\r\n    <div className={clsx('rounded-lg border-2 p-6', colorClasses[color])}>\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1\">\r\n          <p className=\"text-sm font-medium text-gray-600\">{title}</p>\r\n          <p className=\"mt-2 text-3xl font-bold text-gray-900\">{value}</p>\r\n          {change && (\r\n            <p className={clsx('mt-2 text-sm font-medium', changeClasses[changeType])}>\r\n              {change}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div className=\"text-4xl\">{icon}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface CardProps {\r\n  title?: string;\r\n  children: ReactNode;\r\n  className?: string;\r\n  actions?: ReactNode;\r\n}\r\n\r\nexport const Card: React.FC<CardProps> = ({ title, children, className, actions }) => {\r\n  return (\r\n    <div className={clsx('rounded-lg border bg-white p-6 shadow-sm', className)}>\r\n      {(title || actions) && (\r\n        <div className=\"mb-4 flex items-center justify-between\">\r\n          {title && <h3 className=\"text-lg font-semibold text-gray-900\">{title}</h3>}\r\n          {actions && <div className=\"flex gap-2\">{actions}</div>}\r\n        </div>\r\n      )}\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { ReactNode } from 'react';\r\nimport clsx from 'clsx';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'danger' | 'ghost';\r\n  size?: 'sm' | 'md' | 'lg';\r\n  icon?: ReactNode;\r\n  loading?: boolean;\r\n  children: ReactNode;\r\n}\r\n\r\nexport const Button: React.FC<ButtonProps> = ({\r\n  variant = 'primary',\r\n  size = 'md',\r\n  icon,\r\n  loading = false,\r\n  children,\r\n  className,\r\n  disabled,\r\n  ...props\r\n}) => {\r\n  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';\r\n\r\n  const variantClasses = {\r\n    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',\r\n    secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500',\r\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\r\n    ghost: 'bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500',\r\n  };\r\n\r\n  const sizeClasses = {\r\n    sm: 'px-3 py-1.5 text-sm',\r\n    md: 'px-4 py-2 text-base',\r\n    lg: 'px-6 py-3 text-lg',\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={clsx(baseClasses, variantClasses[variant], sizeClasses[size], className)}\r\n      disabled={disabled || loading}\r\n      {...props}\r\n    >\r\n      {loading && (\r\n        <svg\r\n          className=\"mr-2 h-4 w-4 animate-spin\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <circle\r\n            className=\"opacity-25\"\r\n            cx=\"12\"\r\n            cy=\"12\"\r\n            r=\"10\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"4\"\r\n          />\r\n          <path\r\n            className=\"opacity-75\"\r\n            fill=\"currentColor\"\r\n            d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n          />\r\n        </svg>\r\n      )}\r\n      {icon && !loading && <span className=\"mr-2\">{icon}</span>}\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { authService } from './auth.service';\r\nimport { config } from '../aws-exports';\r\nimport type { ApiResponse } from '../types';\r\n\r\nclass ApiService {\r\n  private baseUrl: string;\r\n\r\n  constructor() {\r\n    this.baseUrl = config.api.endpoint;\r\n  }\r\n\r\n  /**\r\n   * Make authenticated API request\r\n   */\r\n  private async request<T>(\r\n    path: string,\r\n    options: RequestInit = {}\r\n  ): Promise<ApiResponse<T>> {\r\n    try {\r\n      // Get auth token\r\n      const idToken = authService.getIdToken();\r\n      \r\n      // Prepare headers\r\n      const headers = new Headers(options.headers);\r\n      if (idToken) {\r\n        headers.set('Authorization', `Bearer ${idToken}`);\r\n      }\r\n      headers.set('Content-Type', 'application/json');\r\n\r\n      // Make request\r\n      const response = await fetch(`${this.baseUrl}${path}`, {\r\n        ...options,\r\n        headers,\r\n      });\r\n\r\n      // Parse response\r\n      let data = await response.json();\r\n      \r\n      console.log('Raw API response:', data);\r\n      \r\n      // Handle API Gateway string body format\r\n      if (typeof data.body === 'string') {\r\n        console.log('Parsing body string...');\r\n        data = JSON.parse(data.body);\r\n        console.log('Parsed data:', data);\r\n      }\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || data.message || 'API request failed');\r\n      }\r\n\r\n      const result = {\r\n        success: true,\r\n        ...data, // ‚Üê Spread t·∫•t c·∫£ fields t·ª´ data g·ªëc (message, rows_returned, rows_affected, v.v.)\r\n      };\r\n      \r\n      console.log('Final result:', result);\r\n      return result;\r\n    } catch (error) {\r\n      console.error('API request error:', error);\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * GET request\r\n   */\r\n  async get<T>(path: string): Promise<ApiResponse<T>> {\r\n    return this.request<T>(path, { method: 'GET' });\r\n  }\r\n\r\n  /**\r\n   * POST request\r\n   */\r\n  async post<T>(path: string, body?: unknown): Promise<ApiResponse<T>> {\r\n    return this.request<T>(path, {\r\n      method: 'POST',\r\n      body: body ? JSON.stringify(body) : undefined,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * PUT request\r\n   */\r\n  async put<T>(path: string, body?: unknown): Promise<ApiResponse<T>> {\r\n    return this.request<T>(path, {\r\n      method: 'PUT',\r\n      body: body ? JSON.stringify(body) : undefined,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * DELETE request\r\n   */\r\n  async delete<T>(path: string): Promise<ApiResponse<T>> {\r\n    return this.request<T>(path, { method: 'DELETE' });\r\n  }\r\n}\r\n\r\nexport const apiService = new ApiService();\r\n\r\n// ==================== OVERVIEW & DASHBOARD ====================\r\n\r\n/**\r\n * Get overview statistics for dashboard\r\n */\r\nexport async function getOverviewStats(): Promise<any> {\r\n  const response = await apiService.post('/admin/execute-sql', {\r\n    action: 'get_overview_stats'\r\n  });\r\n  \r\n  if (!response.success) {\r\n    throw new Error(response.error || 'Failed to get overview stats');\r\n  }\r\n  \r\n  return response;\r\n}\r\n\r\n// ==================== CUSTOMERS ====================\r\n\r\n/**\r\n * Get customers list\r\n */\r\nexport async function getCustomers(options?: { limit?: number; offset?: number; search?: string }): Promise<any> {\r\n  const response = await apiService.post('/admin/execute-sql', {\r\n    action: 'get_customers',\r\n    ...options\r\n  });\r\n  \r\n  if (!response.success) {\r\n    throw new Error(response.error || 'Failed to get customers');\r\n  }\r\n  \r\n  return response;\r\n}\r\n\r\n// ==================== CONSULTANTS ====================\r\n\r\n/**\r\n * Get consultants list\r\n */\r\nexport async function getConsultants(options?: { limit?: number; offset?: number }): Promise<any> {\r\n  const response = await apiService.post('/admin/execute-sql', {\r\n    action: 'get_consultants',\r\n    ...options\r\n  });\r\n  \r\n  if (!response.success) {\r\n    throw new Error(response.error || 'Failed to get consultants');\r\n  }\r\n  \r\n  return response;\r\n}\r\n\r\n// ==================== APPOINTMENTS ====================\r\n\r\n/**\r\n * Get appointments list\r\n */\r\nexport async function getAppointments(options?: { limit?: number; offset?: number; status?: string }): Promise<any> {\r\n  const response = await apiService.post('/admin/execute-sql', {\r\n    action: 'get_appointments',\r\n    ...options\r\n  });\r\n  \r\n  if (!response.success) {\r\n    throw new Error(response.error || 'Failed to get appointments');\r\n  }\r\n  \r\n  return response;\r\n}\r\n\r\n// ==================== COMMUNITY PROGRAMS ====================\r\n\r\n/**\r\n * Get community programs list\r\n */\r\nexport async function getPrograms(options?: { limit?: number; offset?: number; status?: string }): Promise<any> {\r\n  const response = await apiService.post('/admin/execute-sql', {\r\n    action: 'get_programs',\r\n    ...options\r\n  });\r\n  \r\n  if (!response.success) {\r\n    throw new Error(response.error || 'Failed to get programs');\r\n  }\r\n  \r\n  return response;\r\n}\r\n\r\n// ==================== DATABASE ADMIN FUNCTIONS ====================\r\n\r\n/**\r\n * Get list of all tables\r\n */\r\nexport async function getTables(): Promise<any> {\r\n  const response = await apiService.post('/admin/execute-sql', {\r\n    action: 'get_tables'\r\n  });\r\n  \r\n  if (!response.success) {\r\n    throw new Error(response.error || 'Failed to get tables');\r\n  }\r\n  \r\n  return response;\r\n}\r\n\r\n/**\r\n * Get schema for a specific table\r\n */\r\nexport async function getTableSchema(tableName: string): Promise<any> {\r\n  const response = await apiService.post('/admin/execute-sql', {\r\n    action: 'get_table_schema',\r\n    table_name: tableName\r\n  });\r\n  \r\n  if (!response.success) {\r\n    throw new Error(response.error || 'Failed to get table schema');\r\n  }\r\n  \r\n  return response;\r\n}\r\n\r\n/**\r\n * Get database statistics\r\n */\r\nexport async function getDatabaseStats(): Promise<any> {\r\n  const response = await apiService.post('/admin/execute-sql', {\r\n    action: 'get_stats'\r\n  });\r\n  \r\n  if (!response.success) {\r\n    throw new Error(response.error || 'Failed to get database stats');\r\n  }\r\n  \r\n  return response;\r\n}\r\n\r\nexport default apiService;","import { useState, useEffect } from 'react';\r\nimport { Header } from '../components/Header';\r\nimport { StatCard } from '../components/Card';\r\nimport { Button } from '../components/Button';\r\nimport { getOverviewStats, getAppointments, getPrograms } from '../services/api.service';\r\n\r\ninterface OverviewStats {\r\n  total_customers: number;\r\n  total_consultants: number;\r\n  total_appointments: number;\r\n  total_programs: number;\r\n  appointments_by_status: Record<string, number>;\r\n  average_rating: number;\r\n  total_feedbacks: number;\r\n}\r\n\r\n// Helper function to format date from PostgreSQL\r\nconst formatDate = (dateStr: string): string => {\r\n  if (!dateStr) return 'N/A';\r\n  try {\r\n    // PostgreSQL date format: YYYY-MM-DD or with timestamp\r\n    const date = new Date(dateStr);\r\n    if (isNaN(date.getTime())) {\r\n      // Try parsing as DD/MM/YYYY or other formats\r\n      return dateStr.split('T')[0] || dateStr;\r\n    }\r\n    return date.toLocaleDateString('vi-VN');\r\n  } catch {\r\n    return dateStr;\r\n  }\r\n};\r\n\r\ninterface Appointment {\r\n  appointmentid: number;\r\n  customer_name: string;\r\n  consultant_name: string;\r\n  date: string;  // Backend returns 'date' field\r\n  time: string;  // Backend returns 'time' field\r\n  status: string;\r\n}\r\n\r\ninterface Program {\r\n  programid: number;\r\n  programname: string;\r\n  date: string;  // Backend returns single 'date' field\r\n  status: string;\r\n  participant_count: number;\r\n}\r\n\r\nconst OverviewPage: React.FC = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [stats, setStats] = useState<OverviewStats | null>(null);\r\n  const [recentAppointments, setRecentAppointments] = useState<Appointment[]>([]);\r\n  const [programs, setPrograms] = useState<Program[]>([]);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const [statsResponse, appointmentsResponse, programsResponse] = await Promise.all([\r\n        getOverviewStats(),\r\n        getAppointments({ limit: 5 }),\r\n        getPrograms({ limit: 5 })\r\n      ]);\r\n      \r\n      console.log('Stats response:', statsResponse);\r\n      console.log('Appointments response:', appointmentsResponse);\r\n      console.log('Programs response:', programsResponse);\r\n      \r\n      // Stats data is directly in response (not in response.data)\r\n      setStats(statsResponse);\r\n      // Appointments are in response.appointments array\r\n      setRecentAppointments(appointmentsResponse.appointments || []);\r\n      // Programs are in response.programs array\r\n      setPrograms(programsResponse.programs || []);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to fetch data');\r\n      console.error('Error fetching overview data:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status?.toLowerCase()) {\r\n      case 'confirmed':\r\n      case 'completed':\r\n      case 'active':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'pending':\r\n      case 'upcoming':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      case 'cancelled':\r\n      case 'inactive':\r\n        return 'bg-red-100 text-red-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <Header\r\n        title=\"Overview\"\r\n        subtitle=\"Welcome back! Here's what's happening with your career counseling service.\"\r\n        actions={\r\n          <Button onClick={fetchData} loading={loading} icon=\"üîÑ\">\r\n            Refresh\r\n          </Button>\r\n        }\r\n      />\r\n\r\n      <div className=\"p-6\">\r\n        {error && (\r\n          <div className=\"mb-6 rounded-lg bg-red-50 p-4 text-red-700\">\r\n            <strong>Error:</strong> {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Stats Grid */}\r\n        <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4\">\r\n          <StatCard\r\n            title=\"Total Customers\"\r\n            value={stats?.total_customers?.toString() || '0'}\r\n            icon=\"üë•\"\r\n            color=\"blue\"\r\n          />\r\n          <StatCard\r\n            title=\"Consultants\"\r\n            value={stats?.total_consultants?.toString() || '0'}\r\n            icon=\"üë®‚Äçüíº\"\r\n            color=\"green\"\r\n          />\r\n          <StatCard\r\n            title=\"Appointments\"\r\n            value={stats?.total_appointments?.toString() || '0'}\r\n            icon=\"üìÖ\"\r\n            color=\"orange\"\r\n          />\r\n          <StatCard\r\n            title=\"Avg Rating\"\r\n            value={stats?.average_rating ? `${stats.average_rating.toFixed(1)} ‚≠ê` : 'N/A'}\r\n            icon=\"‚≠ê\"\r\n            change={stats?.total_feedbacks ? `${stats.total_feedbacks} feedbacks` : undefined}\r\n            color=\"purple\"\r\n          />\r\n        </div>\r\n\r\n        {/* Appointment Status Distribution */}\r\n        {stats?.appointments_by_status && (\r\n          <div className=\"mt-6\">\r\n            <h3 className=\"mb-4 text-lg font-semibold\">Appointment Status Distribution</h3>\r\n            <div className=\"grid grid-cols-2 gap-4 md:grid-cols-4\">\r\n              {Object.entries(stats.appointments_by_status).map(([status, count]) => (\r\n                <div key={status} className=\"rounded-lg border bg-white p-4 shadow-sm\">\r\n                  <div className={`inline-block rounded-full px-3 py-1 text-sm font-medium ${getStatusColor(status)}`}>\r\n                    {status}\r\n                  </div>\r\n                  <div className=\"mt-2 text-2xl font-bold\">{count}</div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Recent Data Tables */}\r\n        <div className=\"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-2\">\r\n          {/* Recent Appointments */}\r\n          <div className=\"rounded-lg border bg-white p-6 shadow-sm\">\r\n            <h3 className=\"mb-4 text-lg font-semibold\">Recent Appointments</h3>\r\n            {recentAppointments.length > 0 ? (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-sm\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-3 py-2 text-left\">Customer</th>\r\n                      <th className=\"px-3 py-2 text-left\">Consultant</th>\r\n                      <th className=\"px-3 py-2 text-left\">Date</th>\r\n                      <th className=\"px-3 py-2 text-left\">Status</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {recentAppointments.map((apt) => (\r\n                      <tr key={apt.appointmentid} className=\"border-t\">\r\n                        <td className=\"px-3 py-2\">{apt.customer_name}</td>\r\n                        <td className=\"px-3 py-2\">{apt.consultant_name}</td>\r\n                        <td className=\"px-3 py-2\">{formatDate(apt.date)}</td>\r\n                        <td className=\"px-3 py-2\">\r\n                          <span className={`inline-block rounded-full px-2 py-1 text-xs ${getStatusColor(apt.status)}`}>\r\n                            {apt.status}\r\n                          </span>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex h-32 items-center justify-center text-gray-500\">\r\n                {loading ? 'Loading...' : 'No appointments found'}\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Community Programs */}\r\n          <div className=\"rounded-lg border bg-white p-6 shadow-sm\">\r\n            <h3 className=\"mb-4 text-lg font-semibold\">Community Programs</h3>\r\n            {programs.length > 0 ? (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-sm\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-3 py-2 text-left\">Program</th>\r\n                      <th className=\"px-3 py-2 text-left\">Date</th>\r\n                      <th className=\"px-3 py-2 text-left\">Participants</th>\r\n                      <th className=\"px-3 py-2 text-left\">Status</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {programs.map((program) => (\r\n                      <tr key={program.programid} className=\"border-t\">\r\n                        <td className=\"px-3 py-2 font-medium\">{program.programname}</td>\r\n                        <td className=\"px-3 py-2 text-xs\">\r\n                          {formatDate(program.date)}\r\n                        </td>\r\n                        <td className=\"px-3 py-2 text-center\">{program.participant_count}</td>\r\n                        <td className=\"px-3 py-2\">\r\n                          <span className={`inline-block rounded-full px-2 py-1 text-xs ${getStatusColor(program.status)}`}>\r\n                            {program.status}\r\n                          </span>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex h-32 items-center justify-center text-gray-500\">\r\n                {loading ? 'Loading...' : 'No programs found'}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OverviewPage;\r\n"],"names":["StatCard","title","value","icon","change","changeType","color","colorClasses","changeClasses","jsx","clsx","jsxs","Button","variant","size","loading","children","className","disabled","props","baseClasses","variantClasses","sizeClasses","ApiService","__publicField","config","path","options","idToken","authService","headers","response","data","result","error","body","apiService","getOverviewStats","getAppointments","getPrograms","formatDate","dateStr","date","OverviewPage","setLoading","useState","setError","stats","setStats","recentAppointments","setRecentAppointments","programs","setPrograms","fetchData","statsResponse","appointmentsResponse","programsResponse","err","useEffect","getStatusColor","status","Header","_a","_b","_c","count","apt","program"],"mappings":"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"}